"use strict";!function(){function e(e){var r="prefix"in e?e.prefix:"UnaryExpression"==e.type?!0:!1;return new(r?AST_UnaryPrefix:AST_UnaryPostfix)({start:t(e),end:n(e),operator:e.operator,expression:o(e.argument)})}function t(e){return new AST_Token({file:e.loc&&e.loc.source,line:e.loc&&e.loc.start.line,col:e.loc&&e.loc.start.column,pos:e.start,endpos:e.start})}function n(e){return new AST_Token({file:e.loc&&e.loc.source,line:e.loc&&e.loc.end.line,col:e.loc&&e.loc.end.column,pos:e.end,endpos:e.end})}function r(e,r,i){var s="function From_Moz_"+e+"(M){\n";return s+="return new mytype({\nstart: my_start_token(M),\nend: my_end_token(M)",i&&i.split(/\s*,\s*/).forEach(function(e){var t=/([a-z0-9$_]+)(=|@|>|%)([a-z0-9$_]+)/i.exec(e);if(!t)throw new Error("Can't understand property map: "+e);var n="M."+t[1],r=t[2],o=t[3];if(s+=",\n"+o+": ","@"==r)s+=n+".map(from_moz)";else if(">"==r)s+="from_moz("+n+")";else if("="==r)s+=n;else{if("%"!=r)throw new Error("Can't understand operator in propmap: "+e);s+="from_moz("+n+").body"}}),s+="\n})}",s=new Function("mytype","my_start_token","my_end_token","from_moz","return("+s+")")(r,t,n,o),a[e]=s}function o(e){i.push(e);var t=null!=e?a[e.type](e):null;return i.pop(),t}var a={TryStatement:function(e){return new AST_Try({start:t(e),end:n(e),body:o(e.block).body,bcatch:o(e.handlers[0]),bfinally:e.finalizer?new AST_Finally(o(e.finalizer)):null})},CatchClause:function(e){return new AST_Catch({start:t(e),end:n(e),argname:o(e.param),body:o(e.body).body})},ObjectExpression:function(e){return new AST_Object({start:t(e),end:n(e),properties:e.properties.map(function(e){var r=e.key,a="Identifier"==r.type?r.name:r.value,i={start:t(r),end:n(e.value),key:a,value:o(e.value)};switch(e.kind){case"init":return new AST_ObjectKeyVal(i);case"set":return i.value.name=o(r),new AST_ObjectSetter(i);case"get":return i.value.name=o(r),new AST_ObjectGetter(i)}})})},SequenceExpression:function(e){return AST_Seq.from_array(e.expressions.map(o))},MemberExpression:function(e){return new(e.computed?AST_Sub:AST_Dot)({start:t(e),end:n(e),property:e.computed?o(e.property):e.property.name,expression:o(e.object)})},SwitchCase:function(e){return new(e.test?AST_Case:AST_Default)({start:t(e),end:n(e),expression:o(e.test),body:e.consequent.map(o)})},Literal:function(e){var r=e.value,o={start:t(e),end:n(e)};if(null===r)return new AST_Null(o);switch(typeof r){case"string":return o.value=r,new AST_String(o);case"number":return o.value=r,new AST_Number(o);case"boolean":return new(r?AST_True:AST_False)(o);default:return o.value=r,new AST_RegExp(o)}},UnaryExpression:e,UpdateExpression:e,Identifier:function(e){var r=i[i.length-2];return new("this"==e.name?AST_This:"LabeledStatement"==r.type?AST_Label:"VariableDeclarator"==r.type&&r.id===e?"const"==r.kind?AST_SymbolConst:AST_SymbolVar:"FunctionExpression"==r.type?r.id===e?AST_SymbolLambda:AST_SymbolFunarg:"FunctionDeclaration"==r.type?r.id===e?AST_SymbolDefun:AST_SymbolFunarg:"CatchClause"==r.type?AST_SymbolCatch:"BreakStatement"==r.type||"ContinueStatement"==r.type?AST_LabelRef:AST_SymbolRef)({start:t(e),end:n(e),name:e.name})}};r("Node",AST_Node),r("Program",AST_Toplevel,"body@body"),r("Function",AST_Function,"id>name, params@argnames, body%body"),r("EmptyStatement",AST_EmptyStatement),r("BlockStatement",AST_BlockStatement,"body@body"),r("ExpressionStatement",AST_SimpleStatement,"expression>body"),r("IfStatement",AST_If,"test>condition, consequent>body, alternate>alternative"),r("LabeledStatement",AST_LabeledStatement,"label>label, body>body"),r("BreakStatement",AST_Break,"label>label"),r("ContinueStatement",AST_Continue,"label>label"),r("WithStatement",AST_With,"object>expression, body>body"),r("SwitchStatement",AST_Switch,"discriminant>expression, cases@body"),r("ReturnStatement",AST_Return,"argument>value"),r("ThrowStatement",AST_Throw,"argument>value"),r("WhileStatement",AST_While,"test>condition, body>body"),r("DoWhileStatement",AST_Do,"test>condition, body>body"),r("ForStatement",AST_For,"init>init, test>condition, update>step, body>body"),r("ForInStatement",AST_ForIn,"left>init, right>object, body>body"),r("DebuggerStatement",AST_Debugger),r("FunctionDeclaration",AST_Defun,"id>name, params@argnames, body%body"),r("VariableDeclaration",AST_Var,"declarations@definitions"),r("VariableDeclarator",AST_VarDef,"id>name, init>value"),r("ThisExpression",AST_This),r("ArrayExpression",AST_Array,"elements@elements"),r("FunctionExpression",AST_Function,"id>name, params@argnames, body%body"),r("BinaryExpression",AST_Binary,"operator=operator, left>left, right>right"),r("AssignmentExpression",AST_Assign,"operator=operator, left>left, right>right"),r("LogicalExpression",AST_Binary,"operator=operator, left>left, right>right"),r("ConditionalExpression",AST_Conditional,"test>condition, consequent>consequent, alternate>alternative"),r("NewExpression",AST_New,"callee>expression, arguments@args"),r("CallExpression",AST_Call,"callee>expression, arguments@args");var i=null;AST_Node.from_mozilla_ast=function(e){var t=i;i=[];var n=o(e);return i=t,n}}();